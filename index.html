<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thang đo kiệt sức ở cha mẹ (PBI)</title>
    <style>
		:root {
            --primary-color: #4a90e2;
            --secondary-color: #f5a623;
            --background-color: #f0f4f8;
            --text-color: #333;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: var(--primary-color);
        }
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px 10px 10px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #357abd;
        }
        .scale-info {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .question {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .options {
            display: flex;
            justify-content: flex-start;
            margin-top: 10px;
        }
        .option {
            margin-right: 10px;
        }
        .option input[type="radio"] {
            display: none;
        }
        .option label {
            display: inline-block;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border: 2px solid var(--primary-color);
            border-radius: 50%;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.3s;
        }
        .option input[type="radio"]:checked + label {
            background-color: var(--primary-color);
            color: white;
        }
        #results {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-top: 20px;
        }
        #chart {
            margin-top: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
        }
    </style>
</head>
<body>

    <h1>THANG ĐO KIỆT SỨC Ở CHA MẸ</h1>
    <p>Cha mẹ vui lòng đánh giá mức độ của từng biểu hiện được mô tả dưới đây ở bản thân.<br>
	Thông tin và kết quả tự đánh giá chỉ hiển thị trên thiết bị cá nhân của Phụ huynh, không được sao lưu hay lưu trữ trên bất kỳ hệ thống hoặc máy chủ nào.
</p>
    
    <div class="scale-info">
       <strong>Thang điểm đánh giá:</strong><br>
        • 0 = Chưa bao giờ<br>
        • 1 = Vài lần mỗi năm<br>
        • 2 = Ít nhất mỗi tháng một lần<br>
        • 3 = Vài lần mỗi tháng<br>
        • 4 = Một lần mỗi tuần<br>
        • 5 = Vài lần mỗi tuần<br>
        • 6 = Mỗi ngày
    </div>

    <div id="questions"></div>

    <button onclick="calculateScore()">XEM KẾT QUẢ</button>

    <div id="result" class="result-box">
        <
        <div id="scoreDetails"></div>
    </div>

    <script>
        const questionsVi = [
            "Tôi cảm thấy hoàn toàn kiệt quệ bởi vai trò làm cha mẹ.", // 1
            "Tôi có cảm giác như mình thực sự cạn kiệt năng lượng trong vai trò làm cha/mẹ.", // 2
            "Trách nhiệm làm cha mẹ khiến tôi mệt mỏi đến mức ngủ cũng không thấy đỡ mệt.", // 3
            "Mỗi sáng thức dậy, chỉ nghĩ đến việc lại thêm một ngày với con, tôi đã cảm thấy kiệt sức.", // 4
            "Chỉ cần nghĩ đến những gì phải làm cho con cũng đủ khiến tôi thấy kiệt sức.", // 5
            "Tôi không còn chút năng lượng nào để chăm sóc con.", // 6
            "Vai trò làm cha/mẹ đã vắt kiệt toàn bộ năng lượng của tôi.", // 7
            "Đôi khi tôi có cảm giác mình đang chăm sóc con giống như một cỗ máy “chạy ở chế độ tự động”.", // 8
            "Tôi đang cố sống sót với vai trò làm cha/mẹ của mình.", // 9
            "Tôi không nghĩ mình còn là người cha/mẹ tốt đối với (các) con như tôi đã từng trước đây.", // 10
            "Tôi tự nhủ rằng mình không còn là người cha/mẹ như tôi đã từng.", // 11
            "Tôi cảm thấy xấu hổ về bản thân với tư cách một người làm cha/mẹ.", // 12
            "Tôi không còn cảm thấy tự hào về bản thân trong vai trò một người cha/mẹ.", // 13
            "Tôi có cảm giác mình không còn là chính mình khi tiếp xúc với con.", // 14
            "Tôi có cảm giác như mình đã mất phương hướng trong vai trò làm cha/mẹ.", // 15
            "Tôi không thể chịu đựng nổi vai trò làm cha/mẹ của mình.", // 16
            "Tôi không thể tiếp tục gánh vác trách nhiệm làm cha/mẹ thêm nữa.", // 17
            "Tôi cảm thấy mình không thể chịu đựng vai trò làm cha/mẹ thêm chút nào nữa.", // 18
            "Tôi cảm thấy mình không còn đủ khả năng xoay xở với những trách nhiệm làm cha/mẹ.", // 19
            "Tôi không còn cảm thấy vui khi ở bên con.", // 20
            "Tôi chỉ làm những gì được xem là trách nhiệm của người làm cha/mẹ đối với con, ngoài ra chẳng có gì khác.", // 21
            "Ngoài những việc thường ngày (đưa đón, cho đi ngủ, cho ăn), tôi không còn đủ sức để làm bất cứ điều gì khác cho con.", // 22
            "Tôi không còn thể hiện được cho con thấy mình yêu con nhiều thế nào." // 23
        ]; // 

        function initQuestions() {
            const questionsDiv = document.getElementById('questions');
            questionsVi.forEach((q, index) => {
                // Đã loại bỏ thẻ <br> thừa trong label để số nằm giữa vòng tròn
                questionsDiv.innerHTML += `
                    <div class="question">
                        <p><strong>${index + 1}.</strong> ${q}</p>
                        <div class="options">
                            ${[0, 1, 2, 3, 4, 5, 6].map(value => `
                                <div class="option">
                                    <input type="radio" id="q${index}_${value}" name="q${index}" value="${value}">
                                    <label for="q${index}_${value}">${value}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
        }

        function getStatus(score, low, mod) {
            if (score < low) return "Mức độ thấp";
            if (score <= mod) return "Mức độ trung bình";
            return "Mức độ cao";
        }

        function calculateScore() {
            let scores = [];
            for (let i = 0; i < questionsVi.length; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (!selected) {
                    alert("Vui lòng trả lời đầy đủ tất cả các câu hỏi trước khi tính điểm.");
                    return;
                }
                scores.push(parseInt(selected.value));
            }

            // Tính điểm theo các phân nhóm [cite: 11-23]
            const exScore = scores.slice(0, 9).reduce((a, b) => a + b, 0); 
            const coScore = scores.slice(9, 15).reduce((a, b) => a + b, 0);
            const fedScore = scores.slice(15, 20).reduce((a, b) => a + b, 0);
            const distScore = scores.slice(20, 23).reduce((a, b) => a + b, 0);
            const totalScore = scores.reduce((a, b) => a + b, 0);

            const detailDiv = document.getElementById('scoreDetails');

            detailDiv.innerHTML = `
                <p><strong>1. Kiệt sức trong vai trò làm cha mẹ:</strong> ${exScore} điểm - <em>${getStatus(exScore, 18, 29)}</em></p>
                <p><strong>2. Đánh mất chính mình:</strong> ${coScore} điểm - <em>${getStatus(coScore, 14, 23)}</em></p>
                <p><strong>3. Cảm giác quá tải:</strong> ${fedScore} điểm - <em>${getStatus(fedScore, 10, 19)}</em></p>
                <p><strong>4. Khoảng cách cảm xúc:</strong> ${distScore} điểm - <em>${getStatus(distScore, 6, 11)}</em></p>
                <hr>
                <p style="font-size: 1.2em;"><strong>TỔNG ĐIỂM KIỆT SỨC:</strong> ${totalScore} điểm</p>
                <p><strong>Phân loại tổng quát:</strong> ${totalScore < 48 ? 'Mức độ kiệt sức thấp' : totalScore <= 87 ? 'Mức độ kiệt sức trung bình' : 'Mức độ kiệt sức cao'} </p>
            `;

            document.getElementById('result').style.display = 'block';
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        initQuestions();
    </script>
</body>
</html>